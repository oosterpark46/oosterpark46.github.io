{"version":3,"sources":["components/reservation/reservation.js","components/calendar/calendar.js","components/dash/dash.js","components/prefs/prefs.js","components/login/login.js","components/signup/signup.js","components/header/header.js","components/app/app.js","components/app/useToken.js","index.js"],"names":["Reservation","hideReservation","props","close","handleDelete","event","preventDefault","removeReservation","reservation","id","handleSave","saveReservation","handleChange","updateReservation","target","value","handleChangeDate","Date","setHours","handleChangeEndDate","d","setDate","getDate","displayDate","start","toISOString","slice","displayEndDate","end","this","visible","className","onClick","autoComplete","type","title","onChange","newReservation","React","Component","Calendar","state","weekendsVisible","currentEvents","editReservation","editorVisibility","editingNew","handleDateSelect","selectInfo","setState","startStr","endStr","allDay","view","calendar","unselect","handleEventClick","clickInfo","handleEvents","events","fetchEvents","info","successCallback","failureCallback","a","fetch","process","method","headers","Headers","Authorization","token","then","response","json","data","catch","error","closeEditor","updateEditor","update","calendarAPI","calendarRef","current","getApi","getEventById","remove","addEvent","postReservation","deleteReservation","createRef","ref","plugins","dayGridPlugin","interactionPlugin","height","initialView","selectable","selectMirror","dayMaxEvents","weekends","firstDay","eventContent","renderEventContent","select","eventClick","eventsSet","eventInfo","body","JSON","stringify","Dash","Prefs","loginUser","credentials","Login","setToken","useState","email","setEmail","password","setPassword","handleSubmit","e","onSubmit","signupUser","Signup","name","setName","LogHeader","to","App","tokenString","sessionStorage","getItem","userToken","parse","getToken","setItem","useToken","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1d6aada4.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport \"./reservation.css\";\r\n\r\nexport default class Reservation extends React.Component {\r\n  hideReservation = () => {\r\n    this.props.close();\r\n  };\r\n\r\n  handleDelete = (event) => {\r\n    event.preventDefault();\r\n    this.props.removeReservation(this.props.reservation.id);\r\n  }\r\n\r\n  handleSave = (event) => {\r\n    event.preventDefault();\r\n    this.props.saveReservation();\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    event.preventDefault();\r\n    this.props.updateReservation({[event.target.id]: event.target.value});\r\n  }\r\n\r\n  handleChangeDate = (event) => {\r\n    event.preventDefault();\r\n    let d = new Date(event.target.value);\r\n    d.setHours(2, 0, 0);\r\n    this.props.updateReservation({[event.target.id]: new Date(event.target.value)});\r\n  }\r\n\r\n  handleChangeEndDate = (event) => {\r\n    event.preventDefault();\r\n    let d = new Date(event.target.value);\r\n    d.setDate(d.getDate()+1);\r\n    d.setHours(2, 0, 0);\r\n    this.props.updateReservation({[event.target.id]: d});\r\n  }\r\n\r\n  displayDate = () => {\r\n    let d = new Date(this.props.reservation.start);\r\n    d.setHours(2, 0, 0);\r\n    return d.toISOString().slice(0, 10)\r\n  }\r\n\r\n  displayEndDate = () => {\r\n    let d = new Date(this.props.reservation.end);\r\n    d.setDate(d.getDate()-1);\r\n    d.setHours(2, 0, 0);\r\n    return d.toISOString().slice(0, 10)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>{\r\n        this.props.visible ?\r\n        <div className='overlayBackground'>\r\n          <div className=\"reservation-wrapper\">\r\n            <div className=\"reservation-header\"><button onClick={this.hideReservation} className=\"close-icon\"></button></div>\r\n            <div className=\"reservation-container\">\r\n              <h2>Reservation!</h2>\r\n              <form autoComplete=\"off\">\r\n              <label>\r\n                <p>Title</p>\r\n                <input type=\"text\" id=\"title\" value={this.props.reservation.title} onChange={this.handleChange}/>\r\n              </label>\r\n              <label>\r\n              <p>Start</p>\r\n              <input type=\"date\" id=\"start\" value={this.displayDate()} onChange={this.handleChangeDate}></input>\r\n              </label>\r\n              <label>\r\n              <p>End</p>\r\n              <input type=\"date\" id=\"end\" value={this.displayEndDate()} onChange={this.handleChangeEndDate}></input>\r\n              </label>\r\n              <div className = \"reservationButtons\">\r\n                {this.props.newReservation? null :\r\n                <button onClick={this.handleDelete}>Delete</button>\r\n                }\r\n                <button onClick={this.handleSave}>Save</button>\r\n              </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        : null\r\n        }\r\n      </>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\n\r\nimport Reservation from '../reservation/reservation';\r\n\r\nimport './calendar.css';\r\n\r\nexport default class Calendar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.calendarRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    weekendsVisible: true,\r\n    currentEvents: [],\r\n    editReservation: '',\r\n    editorVisibility: false,\r\n    editingNew: false,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n    <div>\r\n      <div className=\"calendar-wrapper\">\r\n        <div className=\"calendar-container\">\r\n          <FullCalendar\r\n              ref={this.calendarRef}\r\n              plugins={[dayGridPlugin, interactionPlugin]}\r\n              height= {600}\r\n              initialView=\"dayGridMonth\"\r\n              selectable={true}\r\n              selectMirror={true}\r\n              dayMaxEvents={true}\r\n              weekends={true}\r\n              firstDay = {1}\r\n              events = {this.fetchEvents}\r\n              eventContent={renderEventContent}\r\n              select={this.handleDateSelect}\r\n              eventClick={this.handleEventClick}\r\n              eventsSet={this.handleEvents}\r\n          />\r\n          </div>\r\n      </div>\r\n      <Reservation \r\n        newReservation = {this.state.editingNew} \r\n        visible={this.state.editorVisibility} \r\n        reservation={this.state.editReservation}\r\n        close={this.closeEditor}\r\n        updateReservation={this.updateEditor}\r\n        removeReservation={this.handleDelete}\r\n        saveReservation={this.handleSave}/>\r\n    </div>\r\n    );\r\n  }\r\n\r\n  handleDateSelect = (selectInfo) => {\r\n    this.setState({\r\n      editingNew: true,\r\n      editorVisibility: true,\r\n      editReservation: {\r\n        title: 'test',\r\n        start: new Date(selectInfo.startStr),\r\n        end: new Date(selectInfo.endStr),\r\n        allDay: true,\r\n      },\r\n    });\r\n    selectInfo.view.calendar.unselect();\r\n  };\r\n\r\n  handleEventClick = (clickInfo) => {\r\n    this.setState({\r\n      editingNew: false,\r\n      editorVisibility: true,\r\n      editReservation: clickInfo.event,\r\n    });\r\n  };\r\n\r\n  handleEvents = (events) => {\r\n    this.setState({\r\n      currentEvents: events,\r\n    });\r\n  };\r\n\r\n  fetchEvents = async (info, successCallback, failureCallback) => {\r\n    return fetch(process.env.REACT_APP_API+'/reservation/range?start='+info.start+'&end='+info.end, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n      Authorization: 'Bearer '+this.props.token})\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => successCallback(data))\r\n    .catch((error) => failureCallback(error))\r\n  }\r\n\r\n  closeEditor = () => {\r\n    this.setState({\r\n      editingNew: false,\r\n      editorVisibility: false,\r\n      editReservation: '',\r\n    });\r\n  }\r\n\r\n  updateEditor = (update) => {\r\n    this.setState((state) => {\r\n      return {editReservation: {\r\n        id: state.editReservation.id,\r\n        title: state.editReservation.title,\r\n        start: new Date(state.editReservation.start),\r\n        end: new Date(state.editReservation.end),\r\n        allDay: true,\r\n        ...update\r\n      }}\r\n    });\r\n  }\r\n\r\n  handleSave = async () => {\r\n    if (this.state.editReservation.id){\r\n      const id = this.state.editReservation.id;\r\n      await updateReservation({token: this.props.token, reservation : {'reservation': this.state.editReservation}},(response) => {\r\n        const calendarAPI = this.calendarRef.current.getApi().view.calendar\r\n        calendarAPI.getEventById(id).remove();\r\n        calendarAPI.addEvent( response.reservation);\r\n        this.closeEditor();\r\n      },()=>{})\r\n    } else {\r\n      await postReservation({token: this.props.token, reservation : {'reservation': this.state.editReservation}},(response) => {\r\n        const calendarAPI = this.calendarRef.current.getApi().view.calendar\r\n        calendarAPI.addEvent( response.reservation);\r\n        this.closeEditor();\r\n      },()=>{})\r\n    }\r\n  }\r\n\r\n  handleDelete = async (id) => {\r\n    await deleteReservation({token: this.props.token, reservation : {'reservation': {id: id}}},(response) => {\r\n      const calendarAPI = this.calendarRef.current.getApi().view.calendar\r\n      calendarAPI.getEventById(id).remove();\r\n      this.closeEditor();\r\n    },()=>{})\r\n  }\r\n}\r\n\r\nfunction renderEventContent(eventInfo) {\r\n    return (\r\n      <>\r\n        <i>{eventInfo.event.title}</i>\r\n      </>\r\n    )\r\n  }\r\n\r\nasync function postReservation(info, successCallback, failureCallback) {\r\n  return fetch(process.env.REACT_APP_API+'/reservation', {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n    'Authorization': 'Bearer '+ info.token,\r\n    'Content-Type': 'application/json',\r\n    'Cache-Control': 'no-cache',\r\n    }),\r\n    body: JSON.stringify(info.reservation)\r\n    }).then(data => data.json())\r\n    .then(data => successCallback(data))\r\n    .catch((error) => failureCallback(error))\r\n  }\r\n\r\n  async function updateReservation(info, successCallback, failureCallback) {\r\n    return fetch(process.env.REACT_APP_API+'/reservation/update', {\r\n      method: 'POST',\r\n      headers: new Headers({\r\n      'Authorization': 'Bearer '+ info.token,\r\n      'Content-Type': 'application/json',\r\n      'Cache-Control': 'no-cache',\r\n      }),\r\n      body: JSON.stringify(info.reservation)\r\n      }).then(data => data.json())\r\n      .then(data => successCallback(data))\r\n      .catch((error) => failureCallback(error))\r\n    }\r\n\r\nasync function deleteReservation(info, successCallback, failureCallback) {\r\n  return fetch(process.env.REACT_APP_API+'/reservation', {\r\n    method: 'DELETE',\r\n    headers: new Headers({\r\n    'Authorization': 'Bearer '+ info.token,\r\n    'Content-Type': 'application/json',\r\n    'Cache-Control': 'no-cache',\r\n    }),\r\n    body: JSON.stringify(info.reservation)\r\n    }).then(response => successCallback(response))\r\n    .catch((error) => failureCallback(error))\r\n  }","import React from 'react';\r\nimport Calendar from '../calendar/calendar'\r\n\r\nimport './dash.css'\r\n\r\nclass Dash extends React.Component {\r\n   render() {\r\n      return (\r\n         <div className=\"dash-wrapper\">\r\n            <div className=\"dash-column\">\r\n            <h1>Dashboard!</h1>\r\n            <Calendar token = {this.props.token}/>\r\n            </div>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Dash;","import React from 'react';\r\n\r\nclass Prefs extends React.Component {\r\n   render() {\r\n      return (\r\n         <div className=\"prefs\">\r\n            <h1>Preferences!</h1>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Prefs;","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './login.css';\r\n\r\nasync function loginUser(credentials) {\r\n return fetch(process.env.REACT_APP_API+'/user/login', {\r\n   method: 'POST',\r\n   headers: new Headers({\r\n    'Content-Type': 'application/json',\r\n    'Cache-Control': 'no-cache',\r\n    }),\r\n   body: JSON.stringify(credentials)\r\n })\r\n   .then(data => data.json())\r\n}\r\n\r\nexport default function Login({ setToken }) {\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const token = await loginUser({'user': {\r\n        email,\r\n        password\r\n      }\r\n    });\r\n    setToken(token);\r\n  }\r\n\r\n  return(\r\n    <div className=\"login-wrapper\">\r\n      <h1>Please Log In</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <p>Email</p>\r\n          <input type=\"text\" onChange={e => setEmail(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Password</p>\r\n          <input type=\"password\" onChange={e => setPassword(e.target.value)}/>\r\n        </label>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nLogin.propTypes = {\r\n  setToken: PropTypes.func.isRequired\r\n};","import React, { useState } from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './signup.css';\r\n\r\nasync function signupUser(credentials) {\r\n return fetch(process.env.REACT_APP_API + '/user/signup', {\r\n   method: 'POST',\r\n   headers: {\r\n     'Content-Type': 'application/json',\r\n     'Cache-Control': 'no-cache',\r\n   },\r\n   body: JSON.stringify(credentials)\r\n })\r\n   .then(data => data.json())\r\n}\r\n\r\nexport default function Signup({ setToken }) {\r\n  const [name, setName] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const token = await signupUser({ 'user': {\r\n        name,\r\n        email,\r\n        password\r\n        }\r\n    });\r\n    setToken(token);\r\n    <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return(\r\n    <div className=\"signup-wrapper\">\r\n      <h1>Create account</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <p>Email</p>\r\n          <input type=\"text\" onChange={e => setEmail(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Name</p>\r\n          <input type=\"text\" onChange={e => setName(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Password</p>\r\n          <input type=\"password\" onChange={e => setPassword(e.target.value)}/>\r\n        </label>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nSignup.propTypes = {\r\n  setToken: PropTypes.func.isRequired\r\n};","import React from 'react';\r\nimport {\r\n   Link,\r\n } from \"react-router-dom\";\r\n\r\nimport './header.css';\r\n\r\nexport default function LogHeader() {\r\n\r\n   return (\r\n      <div className=\"header-wrapper\">\r\n         <div className=\"header-filler-front\"></div>\r\n         <Link to=\"/dashboard\">\r\n            <div className=\"header-item\">\r\n               Home\r\n            </div>\r\n         </Link>\r\n         <Link to=\"/preferences\">\r\n         <div className=\"header-item\">\r\n               Preferences\r\n         </div>\r\n         </Link>\r\n         <div className=\"header-filler-back\"></div>\r\n      </div>\r\n   );\r\n}","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport Dash from '../dash/dash';\r\nimport Prefs from '../prefs/prefs';\r\nimport Login from '../login/login';\r\nimport Signup from '../signup/signup';\r\nimport Header from '../header/header';\r\nimport useToken from './useToken';\r\n\r\nimport './app.css';\r\n\r\nfunction App() {\r\n  const { token, setToken } = useToken();\r\n\r\n  if(!token) {\r\n    return (\r\n    <div className=\"main-login-wrapper\">\r\n      <h1>Login system</h1>\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/signup\"><Signup setToken={setToken} /></Route>\r\n          <Route path=\"/login\"><Login setToken={setToken} /></Route>\r\n          <Route path=\"/\"><Login setToken={setToken} /></Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"main-wrapper\">\r\n      <BrowserRouter>\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/dashboard\">\r\n            <Dash token={token} />\r\n          </Route>\r\n          <Route path=\"/preferences\">\r\n            <Prefs />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Dash token={token}/>\r\n          </Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import { useState } from 'react';\r\n\r\nexport default function useToken() {\r\n  const getToken = () => {\r\n    const tokenString = sessionStorage.getItem('token');\r\n    const userToken = JSON.parse(tokenString);\r\n    return userToken?.token\r\n  };\r\n\r\n  const [token, setToken] = useState(getToken());\r\n\r\n  const saveToken = userToken => {\r\n    sessionStorage.setItem('token', JSON.stringify(userToken));\r\n    setToken(userToken.token);\r\n  };\r\n\r\n  return {\r\n    setToken: saveToken,\r\n    token\r\n  }\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport './cssThemes.css';\r\nimport \"./index.css\";\r\nimport App from './components/app/app';\r\n\r\nReactDOM.render(<div className=\"default-theme\"><App /></div>, document.getElementById('root'))"],"sourceRoot":""}