{"version":3,"sources":["components/calendar/dashAPI.js","components/reservation/reservation.js","components/calendar/calendar.js","components/dash/dash.js","components/prefs/prefs.js","components/login/login.js","components/signup/signup.js","components/header/header.js","components/app/app.js","components/app/useToken.js","index.js"],"names":["eventGuid","todayStr","Date","toISOString","replace","String","Reservation","hideReservation","props","close","handleDelete","removeReservation","handleSave","saveReservation","this","visible","className","onClick","reservation","title","start","toString","end","newReservation","React","Component","Calendar","state","weekendsVisible","currentEvents","editReservation","editorVisibility","editingNew","handleDateSelect","selectInfo","setState","startStr","endStr","view","calendar","unselect","handleEventClick","clickInfo","event","handleEvents","events","fetchEvents","info","successCallback","failureCallback","a","fetch","process","method","headers","Headers","Authorization","token","then","response","json","data","catch","error","closeEditor","postReservation","calendarRef","current","getApi","addEvent","id","createRef","ref","plugins","dayGridPlugin","interactionPlugin","height","initialView","selectable","selectMirror","dayMaxEvents","weekends","firstDay","eventContent","renderEventContent","select","eventClick","eventsSet","eventInfo","body","JSON","stringify","Dash","Prefs","loginUser","credentials","Login","setToken","useState","email","setEmail","password","setPassword","handleSubmit","e","preventDefault","onSubmit","type","onChange","target","value","signupUser","Signup","name","setName","LogHeader","to","App","tokenString","sessionStorage","getItem","userToken","parse","getToken","setItem","useToken","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ed0a1b3e.chunk.js","sourcesContent":["let eventGuid = 0\r\nlet todayStr = new Date().toISOString().replace(/T.*$/, '')\r\n\r\nexport const INITIAL_EVENTS = [\r\n    {\r\n      id: createEventId(),\r\n      title: 'All-day event',\r\n      start: todayStr\r\n    },\r\n  ]\r\n\r\nexport function createEventId() {\r\n    return String(eventGuid++)\r\n  }","import React from \"react\";\r\n\r\nimport \"./reservation.css\";\r\n\r\nexport default class Reservation extends React.Component {\r\n  hideReservation = () => {\r\n    this.props.close();\r\n  };\r\n\r\n  handleDelete = () => {\r\n    this.props.removeReservation();\r\n  }\r\n\r\n  handleSave = () => {\r\n    this.props.saveReservation();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>{\r\n        this.props.visible ?\r\n        <div className='overlayBackground'>\r\n          <div className=\"reservation-wrapper\">\r\n            <div className=\"reservation-header\"><button onClick={this.hideReservation} className=\"close-icon\"></button></div>\r\n            <div className=\"reservation-container\">\r\n              <h2>Reservation!</h2>\r\n              <p>{this.props.reservation.title}</p>\r\n              <p>{this.props.reservation.start.toString()}</p>\r\n              <p>{this.props.reservation.end?this.props.reservation.end.toString():this.props.reservation.start.toString()}</p>\r\n              <div className = \"reservationButtons\">\r\n                {this.props.newReservation? null :\r\n                <button onClick={this.handleDelete}>Delete</button>\r\n                }\r\n                <button onClick={this.handleSave}>Save</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        : null\r\n        }\r\n      </>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport {INITIAL_EVENTS} from './dashAPI';\r\n\r\nimport Reservation from '../reservation/reservation';\r\n\r\nimport './calendar.css';\r\n\r\nexport default class Calendar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.calendarRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    weekendsVisible: true,\r\n    currentEvents: [],\r\n    editReservation: '',\r\n    editorVisibility: false,\r\n    editingNew: false,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n    <div>\r\n      <div className=\"calendar-wrapper\">\r\n        <div className=\"calendar-container\">\r\n          <FullCalendar\r\n              ref={this.calendarRef}\r\n              plugins={[dayGridPlugin, interactionPlugin]}\r\n              height= {900}\r\n              initialView=\"dayGridMonth\"\r\n              selectable={true}\r\n              selectMirror={true}\r\n              dayMaxEvents={true}\r\n              weekends={true}\r\n              firstDay = {1}\r\n              events = {this.fetchEvents}\r\n              eventContent={renderEventContent}\r\n              select={this.handleDateSelect}\r\n              eventClick={this.handleEventClick}\r\n              eventsSet={this.handleEvents}\r\n          />\r\n          </div>\r\n      </div>\r\n      <Reservation \r\n        newReservation = {this.state.editingNew} \r\n        visible={this.state.editorVisibility} \r\n        reservation={this.state.editReservation}\r\n        close={this.closeEditor}\r\n        removeReservation={this.removeReservation}\r\n        saveReservation={this.saveReservation}/>\r\n    </div>\r\n    );\r\n  }\r\n\r\n  handleDateSelect = (selectInfo) => {\r\n    this.setState({\r\n      editingNew: true,\r\n      editorVisibility: true,\r\n      editReservation: {\r\n        title: 'test',\r\n        start: new Date(selectInfo.startStr),\r\n        end: new Date(selectInfo.endStr),\r\n      },\r\n    });\r\n    selectInfo.view.calendar.unselect();\r\n  };\r\n\r\n  handleEventClick = (clickInfo) => {\r\n    this.setState({\r\n      editingNew: false,\r\n      editorVisibility: true,\r\n      editReservation: clickInfo.event,\r\n    });\r\n  };\r\n\r\n  handleEvents = (events) => {\r\n    this.setState({\r\n      currentEvents: events,\r\n    });\r\n  };\r\n\r\n  fetchEvents = async (info, successCallback, failureCallback) => {\r\n    return fetch(process.env.REACT_APP_URL+'/api/reservation/range?start='+info.start+'&end='+info.end, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n      Authorization: 'Bearer '+this.props.token})\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => successCallback(data))\r\n    .catch((error) => failureCallback(error))\r\n  }\r\n\r\n  closeEditor = () => {\r\n    this.setState({\r\n      editingNew: false,\r\n      editorVisibility: false,\r\n      editReservation: '',\r\n    });\r\n  }\r\n\r\n  saveReservation = async () => {\r\n    const response = await postReservation(\r\n      {'reservation': this.state.editReservation},\r\n      this.props.token);\r\n    const calendarAPI = this.calendarRef.current.getApi().view.calendar\r\n    calendarAPI.addEvent( response.reservation);\r\n    this.closeEditor();\r\n  }\r\n\r\n  removeReservation = (id) => {\r\n    \r\n  }\r\n}\r\n\r\nfunction renderEventContent(eventInfo) {\r\n    return (\r\n      <>\r\n        <i>{eventInfo.event.title}</i>\r\n      </>\r\n    )\r\n  }\r\n\r\nasync function postReservation(reservation,token) {\r\n  return fetch(process.env.REACT_APP_URL+'/api/reservation', {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n    'Authorization': 'Bearer '+ token,\r\n    'Content-Type': 'application/json',\r\n    }),\r\n    body: JSON.stringify(reservation)\r\n    }).then(data => data.json())\r\n  }","import React from 'react';\r\nimport Calendar from '../calendar/calendar'\r\n\r\nimport './dash.css'\r\n\r\nclass Dash extends React.Component {\r\n   render() {\r\n      return (\r\n         <div className=\"dash-wrapper\">\r\n            <div className=\"dash-column\">\r\n            <h1>Dashboard!</h1>\r\n            <Calendar token = {this.props.token}/>\r\n            </div>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Dash;","import React from 'react';\r\n\r\nclass Prefs extends React.Component {\r\n   render() {\r\n      return (\r\n         <div className=\"prefs\">\r\n            <h1>Preferences!</h1>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Prefs;","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './login.css';\r\n\r\nasync function loginUser(credentials) {\r\n return fetch(process.env.REACT_APP_URL+'/api/user/login', {\r\n   method: 'POST',\r\n   headers: new Headers({\r\n    'Content-Type': 'application/json',\r\n    }),\r\n   body: JSON.stringify(credentials)\r\n })\r\n   .then(data => data.json())\r\n}\r\n\r\nexport default function Login({ setToken }) {\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const token = await loginUser({'user': {\r\n        email,\r\n        password\r\n      }\r\n    });\r\n    setToken(token);\r\n  }\r\n\r\n  return(\r\n    <div className=\"login-wrapper\">\r\n      <h1>Please Log In</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <p>Email</p>\r\n          <input type=\"text\" onChange={e => setEmail(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Password</p>\r\n          <input type=\"password\" onChange={e => setPassword(e.target.value)}/>\r\n        </label>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nLogin.propTypes = {\r\n  setToken: PropTypes.func.isRequired\r\n};","import React, { useState } from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './signup.css';\r\n\r\nasync function signupUser(credentials) {\r\n return fetch(process.env.REACT_APP_URL + '/api/user/signup', {\r\n   method: 'POST',\r\n   headers: {\r\n     'Content-Type': 'application/json'\r\n   },\r\n   body: JSON.stringify(credentials)\r\n })\r\n   .then(data => data.json())\r\n}\r\n\r\nexport default function Signup({ setToken }) {\r\n  const [name, setName] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const token = await signupUser({ 'user': {\r\n        name,\r\n        email,\r\n        password\r\n        }\r\n    });\r\n    setToken(token);\r\n    <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return(\r\n    <div className=\"signup-wrapper\">\r\n      <h1>Create account</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <p>Email</p>\r\n          <input type=\"text\" onChange={e => setEmail(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Name</p>\r\n          <input type=\"text\" onChange={e => setName(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Password</p>\r\n          <input type=\"password\" onChange={e => setPassword(e.target.value)}/>\r\n        </label>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nSignup.propTypes = {\r\n  setToken: PropTypes.func.isRequired\r\n};","import React from 'react';\r\nimport {\r\n   Link,\r\n } from \"react-router-dom\";\r\n\r\nimport './header.css';\r\n\r\nexport default function LogHeader() {\r\n\r\n   return (\r\n      <div className=\"header-wrapper\">\r\n         <div className=\"header-filler-front\"></div>\r\n         <Link to=\"/dashboard\">\r\n            <div className=\"header-item\">\r\n               Home\r\n            </div>\r\n         </Link>\r\n         <Link to=\"/preferences\">\r\n         <div className=\"header-item\">\r\n               Preferences\r\n         </div>\r\n         </Link>\r\n         <div className=\"header-filler-back\"></div>\r\n      </div>\r\n   );\r\n}","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport Dash from '../dash/dash';\r\nimport Prefs from '../prefs/prefs';\r\nimport Login from '../login/login';\r\nimport Signup from '../signup/signup';\r\nimport Header from '../header/header';\r\nimport useToken from './useToken';\r\n\r\nimport './app.css';\r\n\r\nfunction App() {\r\n  const { token, setToken } = useToken();\r\n\r\n  if(!token) {\r\n    return (\r\n    <div className=\"main-login-wrapper\">\r\n      <h1>Login system</h1>\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/signup\"><Signup setToken={setToken} /></Route>\r\n          <Route path=\"/login\"><Login setToken={setToken} /></Route>\r\n          <Route path=\"/\"><Login setToken={setToken} /></Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"main-wrapper\">\r\n      <BrowserRouter>\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/dashboard\">\r\n            <Dash token={token} />\r\n          </Route>\r\n          <Route path=\"/preferences\">\r\n            <Prefs />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Dash token={token}/>\r\n          </Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import { useState } from 'react';\r\n\r\nexport default function useToken() {\r\n  const getToken = () => {\r\n    const tokenString = sessionStorage.getItem('token');\r\n    const userToken = JSON.parse(tokenString);\r\n    return userToken?.token\r\n  };\r\n\r\n  const [token, setToken] = useState(getToken());\r\n\r\n  const saveToken = userToken => {\r\n    sessionStorage.setItem('token', JSON.stringify(userToken));\r\n    setToken(userToken.token);\r\n  };\r\n\r\n  return {\r\n    setToken: saveToken,\r\n    token\r\n  }\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport './cssThemes.css';\r\nimport \"./index.css\";\r\nimport App from './components/app/app';\r\n\r\nReactDOM.render(<div className=\"default-theme\"><App /></div>, document.getElementById('root'))"],"sourceRoot":""}