{"version":3,"sources":["components/reservation/reservation.js","components/calendar/calendar.js","components/dash/dash.js","components/prefs/prefs.js","components/login/login.js","components/signup/signup.js","components/header/header.js","components/app/app.js","components/app/useToken.js","index.js"],"names":["Reservation","hideReservation","props","close","handleDelete","event","preventDefault","removeReservation","reservation","id","handleSave","saveReservation","handleChange","updateReservation","target","value","handleChangeDate","Date","this","visible","className","onClick","type","title","onChange","start","toISOString","slice","end","newReservation","React","Component","Calendar","state","weekendsVisible","currentEvents","editReservation","editorVisibility","editingNew","handleDateSelect","selectInfo","setState","startStr","endStr","allDay","view","calendar","unselect","handleEventClick","clickInfo","handleEvents","events","fetchEvents","info","successCallback","failureCallback","a","fetch","process","method","headers","Headers","Authorization","token","then","response","json","data","catch","error","closeEditor","updateEditor","update","postReservation","deleteReservation","calendarRef","createRef","ref","plugins","dayGridPlugin","interactionPlugin","height","initialView","selectable","selectMirror","dayMaxEvents","weekends","firstDay","eventContent","renderEventContent","select","eventClick","eventsSet","eventInfo","body","JSON","stringify","Dash","Prefs","loginUser","credentials","Login","setToken","useState","email","setEmail","password","setPassword","handleSubmit","e","onSubmit","signupUser","Signup","name","setName","LogHeader","to","App","tokenString","sessionStorage","getItem","userToken","parse","getToken","setItem","useToken","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.13b04608.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport \"./reservation.css\";\r\n\r\nexport default class Reservation extends React.Component {\r\n  hideReservation = () => {\r\n    this.props.close();\r\n  };\r\n\r\n  handleDelete = (event) => {\r\n    event.preventDefault();\r\n    this.props.removeReservation(this.props.reservation.id);\r\n  }\r\n\r\n  handleSave = (event) => {\r\n    event.preventDefault();\r\n    this.props.saveReservation();\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.props.updateReservation({[event.target.id]: event.target.value});\r\n  }\r\n\r\n  handleChangeDate = (event) => {\r\n    this.props.updateReservation({[event.target.id]: new Date(event.target.value)});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>{\r\n        this.props.visible ?\r\n        <div className='overlayBackground'>\r\n          <div className=\"reservation-wrapper\">\r\n            <div className=\"reservation-header\"><button onClick={this.hideReservation} className=\"close-icon\"></button></div>\r\n            <div className=\"reservation-container\">\r\n              <h2>Reservation!</h2>\r\n              <form>\r\n              <label>\r\n                <p>Title</p>\r\n                <input type=\"text\" id=\"title\" value={this.props.reservation.title} onChange={this.handleChange}/>\r\n              </label>\r\n              <label>\r\n              <p>Start</p>\r\n              <input type=\"date\" id=\"start\" value={this.props.reservation.start.toISOString().slice(0, 10)} onChange={this.handleChangeDate}></input>\r\n              </label>\r\n              <label>\r\n              <p>End</p>\r\n              <input type=\"date\" id=\"end\" value={this.props.reservation.end.toISOString().slice(0, 10)} onChange={this.handleChangeDate}></input>\r\n              </label>\r\n              <div className = \"reservationButtons\">\r\n                {this.props.newReservation? null :\r\n                <button onClick={this.handleDelete}>Delete</button>\r\n                }\r\n                <button onClick={this.handleSave}>Save</button>\r\n              </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        : null\r\n        }\r\n      </>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\n\r\nimport Reservation from '../reservation/reservation';\r\n\r\nimport './calendar.css';\r\n\r\nexport default class Calendar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.calendarRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    weekendsVisible: true,\r\n    currentEvents: [],\r\n    editReservation: '',\r\n    editorVisibility: false,\r\n    editingNew: false,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n    <div>\r\n      <div className=\"calendar-wrapper\">\r\n        <div className=\"calendar-container\">\r\n          <FullCalendar\r\n              ref={this.calendarRef}\r\n              plugins={[dayGridPlugin, interactionPlugin]}\r\n              height= {600}\r\n              initialView=\"dayGridMonth\"\r\n              selectable={true}\r\n              selectMirror={true}\r\n              dayMaxEvents={true}\r\n              weekends={true}\r\n              firstDay = {1}\r\n              events = {this.fetchEvents}\r\n              eventContent={renderEventContent}\r\n              select={this.handleDateSelect}\r\n              eventClick={this.handleEventClick}\r\n              eventsSet={this.handleEvents}\r\n          />\r\n          </div>\r\n      </div>\r\n      <Reservation \r\n        newReservation = {this.state.editingNew} \r\n        visible={this.state.editorVisibility} \r\n        reservation={this.state.editReservation}\r\n        close={this.closeEditor}\r\n        updateReservation={this.updateEditor}\r\n        removeReservation={this.handleDelete}\r\n        saveReservation={this.handleSave}/>\r\n    </div>\r\n    );\r\n  }\r\n\r\n  handleDateSelect = (selectInfo) => {\r\n    this.setState({\r\n      editingNew: true,\r\n      editorVisibility: true,\r\n      editReservation: {\r\n        title: 'test',\r\n        start: new Date(selectInfo.startStr),\r\n        end: new Date(selectInfo.endStr),\r\n        allDay: true,\r\n      },\r\n    });\r\n    selectInfo.view.calendar.unselect();\r\n  };\r\n\r\n  handleEventClick = (clickInfo) => {\r\n    this.setState({\r\n      editingNew: false,\r\n      editorVisibility: true,\r\n      editReservation: clickInfo.event,\r\n    });\r\n  };\r\n\r\n  handleEvents = (events) => {\r\n    this.setState({\r\n      currentEvents: events,\r\n    });\r\n  };\r\n\r\n  fetchEvents = async (info, successCallback, failureCallback) => {\r\n    return fetch(process.env.REACT_APP_API+'/reservation/range?start='+info.start+'&end='+info.end, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n      Authorization: 'Bearer '+this.props.token})\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => successCallback(data))\r\n    .catch((error) => failureCallback(error))\r\n  }\r\n\r\n  closeEditor = () => {\r\n    this.setState({\r\n      editingNew: false,\r\n      editorVisibility: false,\r\n      editReservation: '',\r\n    });\r\n  }\r\n\r\n  updateEditor = (update) => {\r\n    this.setState({\r\n      editReservation: {\r\n        ...this.state.editReservation,\r\n        ...update\r\n      } \r\n    });\r\n  }\r\n\r\n  handleSave = async () => {\r\n    await postReservation({token: this.props.token, reservation : {'reservation': this.state.editReservation}},(response) => {\r\n      //const calendarAPI = this.calendarRef.current.getApi().view.calendar\r\n      //calendarAPI.addEvent( response.reservation);\r\n      this.closeEditor();\r\n    },()=>{})\r\n  }\r\n\r\n  handleDelete = async (id) => {\r\n    await deleteReservation({token: this.props.token, reservation : {'reservation': {id: id}}},(response) => {\r\n      //const calendarAPI = this.calendarRef.current.getApi().view.calendar\r\n      //calendarAPI.getEventById(id).remove();\r\n      this.closeEditor();\r\n    },()=>{})\r\n  }\r\n\r\n  // postReservation = async (reservation, successCallback, failureCallback) => {\r\n  //   return fetch(process.env.REACT_APP_API+'/reservation', {\r\n  //     method: 'POST',\r\n  //     headers: new Headers({\r\n  //     'Authorization': 'Bearer '+ this.props.token,\r\n  //     'Content-Type': 'application/json',\r\n  //     'Cache-Control': 'no-cache',\r\n  //     }),\r\n  //     body: JSON.stringify(reservation)\r\n  //     }).then(data => data.json())\r\n  //     .then(data => successCallback(data))\r\n  //     .catch((error) => failureCallback(error))\r\n  //   }\r\n  \r\n  // deleteReservation = async (reservation, successCallback, failureCallback) => {\r\n  //   return fetch(process.env.REACT_APP_API+'/reservation', {\r\n  //     method: 'DELETE',\r\n  //     headers: new Headers({\r\n  //     'Authorization': 'Bearer '+ this.props.token,\r\n  //     'Content-Type': 'application/json',\r\n  //     'Cache-Control': 'no-cache',\r\n  //     }),\r\n  //     body: JSON.stringify(reservation)\r\n  //     }).then(response => successCallback(response))\r\n  //     .catch((error) => failureCallback(error))\r\n  //   }\r\n}\r\n\r\nfunction renderEventContent(eventInfo) {\r\n    return (\r\n      <>\r\n        <i>{eventInfo.event.title}</i>\r\n      </>\r\n    )\r\n  }\r\n\r\nasync function postReservation(info, successCallback, failureCallback) {\r\n  return fetch(process.env.REACT_APP_API+'/reservation', {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n    'Authorization': 'Bearer '+ info.token,\r\n    'Content-Type': 'application/json',\r\n    'Cache-Control': 'no-cache',\r\n    }),\r\n    body: JSON.stringify(info.reservation)\r\n    }).then(data => data.json())\r\n    .then(data => successCallback(data))\r\n    .catch((error) => failureCallback(error))\r\n  }\r\n\r\nasync function deleteReservation(info, successCallback, failureCallback) {\r\n  return fetch(process.env.REACT_APP_API+'/reservation', {\r\n    method: 'DELETE',\r\n    headers: new Headers({\r\n    'Authorization': 'Bearer '+ info.token,\r\n    'Content-Type': 'application/json',\r\n    'Cache-Control': 'no-cache',\r\n    }),\r\n    body: JSON.stringify(info.reservation)\r\n    }).then(response => successCallback(response))\r\n    .catch((error) => failureCallback(error))\r\n  }","import React from 'react';\r\nimport Calendar from '../calendar/calendar'\r\n\r\nimport './dash.css'\r\n\r\nclass Dash extends React.Component {\r\n   render() {\r\n      return (\r\n         <div className=\"dash-wrapper\">\r\n            <div className=\"dash-column\">\r\n            <h1>Dashboard!</h1>\r\n            <Calendar token = {this.props.token}/>\r\n            </div>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Dash;","import React from 'react';\r\n\r\nclass Prefs extends React.Component {\r\n   render() {\r\n      return (\r\n         <div className=\"prefs\">\r\n            <h1>Preferences!</h1>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Prefs;","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './login.css';\r\n\r\nasync function loginUser(credentials) {\r\n return fetch(process.env.REACT_APP_API+'/user/login', {\r\n   method: 'POST',\r\n   headers: new Headers({\r\n    'Content-Type': 'application/json',\r\n    'Cache-Control': 'no-cache',\r\n    }),\r\n   body: JSON.stringify(credentials)\r\n })\r\n   .then(data => data.json())\r\n}\r\n\r\nexport default function Login({ setToken }) {\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const token = await loginUser({'user': {\r\n        email,\r\n        password\r\n      }\r\n    });\r\n    setToken(token);\r\n  }\r\n\r\n  return(\r\n    <div className=\"login-wrapper\">\r\n      <h1>Please Log In</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <p>Email</p>\r\n          <input type=\"text\" onChange={e => setEmail(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Password</p>\r\n          <input type=\"password\" onChange={e => setPassword(e.target.value)}/>\r\n        </label>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nLogin.propTypes = {\r\n  setToken: PropTypes.func.isRequired\r\n};","import React, { useState } from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './signup.css';\r\n\r\nasync function signupUser(credentials) {\r\n return fetch(process.env.REACT_APP_API + '/user/signup', {\r\n   method: 'POST',\r\n   headers: {\r\n     'Content-Type': 'application/json',\r\n     'Cache-Control': 'no-cache',\r\n   },\r\n   body: JSON.stringify(credentials)\r\n })\r\n   .then(data => data.json())\r\n}\r\n\r\nexport default function Signup({ setToken }) {\r\n  const [name, setName] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const token = await signupUser({ 'user': {\r\n        name,\r\n        email,\r\n        password\r\n        }\r\n    });\r\n    setToken(token);\r\n    <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return(\r\n    <div className=\"signup-wrapper\">\r\n      <h1>Create account</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <p>Email</p>\r\n          <input type=\"text\" onChange={e => setEmail(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Name</p>\r\n          <input type=\"text\" onChange={e => setName(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Password</p>\r\n          <input type=\"password\" onChange={e => setPassword(e.target.value)}/>\r\n        </label>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nSignup.propTypes = {\r\n  setToken: PropTypes.func.isRequired\r\n};","import React from 'react';\r\nimport {\r\n   Link,\r\n } from \"react-router-dom\";\r\n\r\nimport './header.css';\r\n\r\nexport default function LogHeader() {\r\n\r\n   return (\r\n      <div className=\"header-wrapper\">\r\n         <div className=\"header-filler-front\"></div>\r\n         <Link to=\"/dashboard\">\r\n            <div className=\"header-item\">\r\n               Home\r\n            </div>\r\n         </Link>\r\n         <Link to=\"/preferences\">\r\n         <div className=\"header-item\">\r\n               Preferences\r\n         </div>\r\n         </Link>\r\n         <div className=\"header-filler-back\"></div>\r\n      </div>\r\n   );\r\n}","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport Dash from '../dash/dash';\r\nimport Prefs from '../prefs/prefs';\r\nimport Login from '../login/login';\r\nimport Signup from '../signup/signup';\r\nimport Header from '../header/header';\r\nimport useToken from './useToken';\r\n\r\nimport './app.css';\r\n\r\nfunction App() {\r\n  const { token, setToken } = useToken();\r\n\r\n  if(!token) {\r\n    return (\r\n    <div className=\"main-login-wrapper\">\r\n      <h1>Login system</h1>\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/signup\"><Signup setToken={setToken} /></Route>\r\n          <Route path=\"/login\"><Login setToken={setToken} /></Route>\r\n          <Route path=\"/\"><Login setToken={setToken} /></Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"main-wrapper\">\r\n      <BrowserRouter>\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/dashboard\">\r\n            <Dash token={token} />\r\n          </Route>\r\n          <Route path=\"/preferences\">\r\n            <Prefs />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Dash token={token}/>\r\n          </Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import { useState } from 'react';\r\n\r\nexport default function useToken() {\r\n  const getToken = () => {\r\n    const tokenString = sessionStorage.getItem('token');\r\n    const userToken = JSON.parse(tokenString);\r\n    return userToken?.token\r\n  };\r\n\r\n  const [token, setToken] = useState(getToken());\r\n\r\n  const saveToken = userToken => {\r\n    sessionStorage.setItem('token', JSON.stringify(userToken));\r\n    setToken(userToken.token);\r\n  };\r\n\r\n  return {\r\n    setToken: saveToken,\r\n    token\r\n  }\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport './cssThemes.css';\r\nimport \"./index.css\";\r\nimport App from './components/app/app';\r\n\r\nReactDOM.render(<div className=\"default-theme\"><App /></div>, document.getElementById('root'))"],"sourceRoot":""}