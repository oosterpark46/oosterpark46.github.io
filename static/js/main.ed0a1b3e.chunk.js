(this.webpackJsonphuisapp=this.webpackJsonphuisapp||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n.n(r),a=n(17),i=n.n(a),c=(n(32),n(33),n(15)),o=n(3),u=n(11),j=n(12),l=n(14),d=n(13),h=n(5),p=n.n(h),b=n(9),v=n(25),O=n(26),f=n(27),x=0,m=(new Date).toISOString().replace(/T.*$/,"");String(x++);n(37);var g=n(1),w=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).hideReservation=function(){e.props.close()},e.handleDelete=function(){e.props.removeReservation()},e.handleSave=function(){e.props.saveReservation()},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:this.props.visible?Object(g.jsx)("div",{className:"overlayBackground",children:Object(g.jsxs)("div",{className:"reservation-wrapper",children:[Object(g.jsx)("div",{className:"reservation-header",children:Object(g.jsx)("button",{onClick:this.hideReservation,className:"close-icon"})}),Object(g.jsxs)("div",{className:"reservation-container",children:[Object(g.jsx)("h2",{children:"Reservation!"}),Object(g.jsx)("p",{children:this.props.reservation.title}),Object(g.jsx)("p",{children:this.props.reservation.start.toString()}),Object(g.jsx)("p",{children:this.props.reservation.end?this.props.reservation.end.toString():this.props.reservation.start.toString()}),Object(g.jsxs)("div",{className:"reservationButtons",children:[this.props.newReservation?null:Object(g.jsx)("button",{onClick:this.handleDelete,children:"Delete"}),Object(g.jsx)("button",{onClick:this.handleSave,children:"Save"})]})]})]})}):null})}}]),n}(s.a.Component),k=(n(39),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={weekendsVisible:!0,currentEvents:[],editReservation:"",editorVisibility:!1,editingNew:!1},r.handleDateSelect=function(e){r.setState({editingNew:!0,editorVisibility:!0,editReservation:{title:"test",start:new Date(e.startStr),end:new Date(e.endStr)}}),e.view.calendar.unselect()},r.handleEventClick=function(e){r.setState({editingNew:!1,editorVisibility:!0,editReservation:e.event})},r.handleEvents=function(e){r.setState({currentEvents:e})},r.fetchEvents=function(){var e=Object(b.a)(p.a.mark((function e(t,n,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://oosterpark46.github.io//api/reservation/range?start="+t.start+"&end="+t.end,{method:"GET",headers:new Headers({Authorization:"Bearer "+r.props.token})}).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return s(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.closeEditor=function(){r.setState({editingNew:!1,editorVisibility:!1,editReservation:""})},r.saveReservation=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({reservation:r.state.editReservation},r.props.token);case 2:t=e.sent,r.calendarRef.current.getApi().view.calendar.addEvent(t.reservation),r.closeEditor();case 6:case"end":return e.stop()}}),e)}))),r.removeReservation=function(e){},r.calendarRef=s.a.createRef(),r}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"calendar-wrapper",children:Object(g.jsx)("div",{className:"calendar-container",children:Object(g.jsx)(v.a,{ref:this.calendarRef,plugins:[O.a,f.a],height:900,initialView:"dayGridMonth",selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,firstDay:1,events:this.fetchEvents,eventContent:y,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents})})}),Object(g.jsx)(w,{newReservation:this.state.editingNew,visible:this.state.editorVisibility,reservation:this.state.editReservation,close:this.closeEditor,removeReservation:this.removeReservation,saveReservation:this.saveReservation})]})}}]),n}(s.a.Component));function y(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("i",{children:e.event.title})})}function S(e,t){return N.apply(this,arguments)}function N(){return(N=Object(b.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://oosterpark46.github.io//api/reservation",{method:"POST",headers:new Headers({Authorization:"Bearer "+n,"Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(40);var R=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"dash-wrapper",children:Object(g.jsxs)("div",{className:"dash-column",children:[Object(g.jsx)("h1",{children:"Dashboard!"}),Object(g.jsx)(k,{token:this.props.token})]})})}}]),n}(s.a.Component),C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"prefs",children:Object(g.jsx)("h1",{children:"Preferences!"})})}}]),n}(s.a.Component),E=n(10);n(41);function T(e){return D.apply(this,arguments)}function D(){return(D=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://oosterpark46.github.io//api/user/login",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=e.setToken,n=Object(r.useState)(),s=Object(E.a)(n,2),a=s[0],i=s[1],c=Object(r.useState)(),o=Object(E.a)(c,2),u=o[0],j=o[1],l=function(){var e=Object(b.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,T({user:{email:a,password:u}});case 3:r=e.sent,t(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"login-wrapper",children:[Object(g.jsx)("h1",{children:"Please Log In"}),Object(g.jsxs)("form",{onSubmit:l,children:[Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Email"}),Object(g.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)}})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Password"}),Object(g.jsx)("input",{type:"password",onChange:function(e){return j(e.target.value)}})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"submit",children:"Submit"})})]})]})}n(42);function J(e){return V.apply(this,arguments)}function V(){return(V=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://oosterpark46.github.io//api/user/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){var t=e.setToken,n=Object(r.useState)(),s=Object(E.a)(n,2),a=s[0],i=s[1],c=Object(r.useState)(),u=Object(E.a)(c,2),j=u[0],l=u[1],d=Object(r.useState)(),h=Object(E.a)(d,2),v=h[0],O=h[1],f=function(){var e=Object(b.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,J({user:{name:a,email:j,password:v}});case 3:r=e.sent,t(r),o.a;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"signup-wrapper",children:[Object(g.jsx)("h1",{children:"Create account"}),Object(g.jsxs)("form",{onSubmit:f,children:[Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Email"}),Object(g.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)}})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Name"}),Object(g.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)}})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Password"}),Object(g.jsx)("input",{type:"password",onChange:function(e){return O(e.target.value)}})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"submit",children:"Submit"})})]})]})}n(48);function I(){return Object(g.jsxs)("div",{className:"header-wrapper",children:[Object(g.jsx)("div",{className:"header-filler-front"}),Object(g.jsx)(c.b,{to:"/dashboard",children:Object(g.jsx)("div",{className:"header-item",children:"Home"})}),Object(g.jsx)(c.b,{to:"/preferences",children:Object(g.jsx)("div",{className:"header-item",children:"Preferences"})}),Object(g.jsx)("div",{className:"header-filler-back"})]})}n(49);var A=function(){var e=function(){var e=Object(r.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(E.a)(e,2),n=t[0],s=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),s(e.token)},token:n}}(),t=e.token,n=e.setToken;return t?Object(g.jsx)("div",{className:"main-wrapper",children:Object(g.jsxs)(c.a,{children:[Object(g.jsx)(I,{}),Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{path:"/dashboard",children:Object(g.jsx)(R,{token:t})}),Object(g.jsx)(o.b,{path:"/preferences",children:Object(g.jsx)(C,{})}),Object(g.jsx)(o.b,{path:"/",children:Object(g.jsx)(R,{token:t})})]})]})}):Object(g.jsxs)("div",{className:"main-login-wrapper",children:[Object(g.jsx)("h1",{children:"Login system"}),Object(g.jsx)(c.a,{children:Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{path:"/signup",children:Object(g.jsx)(B,{setToken:n})}),Object(g.jsx)(o.b,{path:"/login",children:Object(g.jsx)(P,{setToken:n})}),Object(g.jsx)(o.b,{path:"/",children:Object(g.jsx)(P,{setToken:n})})]})})]})};i.a.render(Object(g.jsx)("div",{className:"default-theme",children:Object(g.jsx)(A,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.ed0a1b3e.chunk.js.map