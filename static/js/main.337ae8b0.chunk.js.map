{"version":3,"sources":["components/reservation/reservation.js","components/calendar/calendar.js","components/dash/dash.js","components/prefs/prefs.js","components/login/login.js","components/signup/signup.js","components/header/header.js","components/app/app.js","components/app/useToken.js","index.js"],"names":["Reservation","hideReservation","props","close","handleDelete","removeReservation","reservation","id","handleSave","saveReservation","handleChange","event","updateReservation","target","value","handleChangeDate","Date","this","visible","className","onClick","type","title","onChange","start","toISOString","slice","end","newReservation","React","Component","Calendar","state","weekendsVisible","currentEvents","editReservation","editorVisibility","editingNew","handleDateSelect","selectInfo","setState","startStr","endStr","allDay","view","calendar","unselect","handleEventClick","clickInfo","handleEvents","events","fetchEvents","info","successCallback","failureCallback","a","fetch","process","method","headers","Headers","Authorization","token","then","response","json","data","catch","error","closeEditor","updateEditor","update","postReservation","calendarRef","current","getApi","addEvent","deleteReservation","getEventById","remove","body","JSON","stringify","createRef","ref","plugins","dayGridPlugin","interactionPlugin","height","initialView","selectable","selectMirror","dayMaxEvents","weekends","firstDay","eventContent","renderEventContent","select","eventClick","eventsSet","eventInfo","Dash","Prefs","loginUser","credentials","Login","setToken","useState","email","setEmail","password","setPassword","handleSubmit","e","preventDefault","onSubmit","signupUser","Signup","name","setName","LogHeader","to","App","tokenString","sessionStorage","getItem","userToken","parse","getToken","setItem","useToken","path","ReactDOM","render","document","getElementById"],"mappings":"udAIqBA,E,4MACnBC,gBAAkB,WAChB,EAAKC,MAAMC,S,EAGbC,aAAe,WACb,EAAKF,MAAMG,kBAAkB,EAAKH,MAAMI,YAAYC,K,EAGtDC,WAAa,WACX,EAAKN,MAAMO,mB,EAGbC,aAAe,SAACC,GACd,EAAKT,MAAMU,kBAAX,eAA+BD,EAAME,OAAON,GAAKI,EAAME,OAAOC,S,EAGhEC,iBAAmB,SAACJ,GAClB,EAAKT,MAAMU,kBAAX,eAA+BD,EAAME,OAAON,GAAK,IAAIS,KAAKL,EAAME,OAAOC,U,4CAGzE,WACE,OACE,mCACEG,KAAKf,MAAMgB,QACX,qBAAKC,UAAU,oBAAf,SACE,sBAAKA,UAAU,sBAAf,UACE,qBAAKA,UAAU,qBAAf,SAAoC,wBAAQC,QAASH,KAAKhB,gBAAiBkB,UAAU,iBACrF,sBAAKA,UAAU,wBAAf,UACE,8CACA,iCACA,kCACE,sCACA,uBAAOE,KAAK,OAAOd,GAAG,QAAQO,MAAOG,KAAKf,MAAMI,YAAYgB,MAAOC,SAAUN,KAAKP,kBAEpF,kCACA,sCACA,uBAAOW,KAAK,OAAOd,GAAG,QAAQO,MAAOG,KAAKf,MAAMI,YAAYkB,MAAMC,cAAcC,MAAM,EAAG,IAAKH,SAAUN,KAAKF,sBAE7G,kCACA,oCACA,uBAAOM,KAAK,OAAOd,GAAG,MAAMO,MAAOG,KAAKf,MAAMI,YAAYqB,IAAIF,cAAcC,MAAM,EAAG,IAAKH,SAAUN,KAAKF,sBAEzG,sBAAKI,UAAY,qBAAjB,UACGF,KAAKf,MAAM0B,eAAgB,KAC5B,wBAAQR,QAASH,KAAKb,aAAtB,oBAEA,wBAAQgB,QAASH,KAAKT,WAAtB,gCAMN,W,GArD+BqB,IAAMC,WCK1BC,G,wDACnB,WAAY7B,GAAQ,IAAD,8BACjB,cAAMA,IAIR8B,MAAQ,CACNC,iBAAiB,EACjBC,cAAe,GACfC,gBAAiB,GACjBC,kBAAkB,EAClBC,YAAY,GAVK,EAgDnBC,iBAAmB,SAACC,GAClB,EAAKC,SAAS,CACZH,YAAY,EACZD,kBAAkB,EAClBD,gBAAiB,CACfb,MAAO,OACPE,MAAO,IAAIR,KAAKuB,EAAWE,UAC3Bd,IAAK,IAAIX,KAAKuB,EAAWG,QACzBC,QAAQ,KAGZJ,EAAWK,KAAKC,SAASC,YA3DR,EA8DnBC,iBAAmB,SAACC,GAClB,EAAKR,SAAS,CACZH,YAAY,EACZD,kBAAkB,EAClBD,gBAAiBa,EAAUrC,SAlEZ,EAsEnBsC,aAAe,SAACC,GACd,EAAKV,SAAS,CACZN,cAAegB,KAxEA,EA4EnBC,YA5EmB,uCA4EL,WAAOC,EAAMC,EAAiBC,GAA9B,SAAAC,EAAA,+EACLC,MAAMC,uEAAsDL,EAAK5B,MAAM,QAAQ4B,EAAKzB,IAAK,CAC9F+B,OAAQ,MACRC,QAAS,IAAIC,QAAQ,CACrBC,cAAe,UAAU,EAAK3D,MAAM4D,UAErCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAIb,EAAgBa,MAC7BC,OAAM,SAACC,GAAD,OAAWd,EAAgBc,OARtB,2CA5EK,4DAuFnBC,YAAc,WACZ,EAAK7B,SAAS,CACZH,YAAY,EACZD,kBAAkB,EAClBD,gBAAiB,MA3FF,EA+FnBmC,aAAe,SAACC,GACd,EAAK/B,SAAS,CACZL,gBAAgB,2BACX,EAAKH,MAAMG,iBACXoC,MAnGU,EAwGnB/D,WAAa,WACX,EAAKgE,gBAAgB,CAAC,YAAe,EAAKxC,MAAMG,kBAAiB,SAAC6B,GAC5C,EAAKS,YAAYC,QAAQC,SAAS/B,KAAKC,SAC/C+B,SAAUZ,EAAS1D,aAC/B,EAAK+D,iBACL,gBA7Ge,EAgHnBjE,aAAe,SAACG,GACd,EAAKsE,kBAAkB,CAAC,YAAe,CAACtE,GAAIA,KAAK,SAACyD,GAC5B,EAAKS,YAAYC,QAAQC,SAAS/B,KAAKC,SAC/CiC,aAAavE,GAAIwE,SAC7B,EAAKV,iBACL,gBArHe,EAwHnBG,gBAxHmB,uCAwHD,WAAOlE,EAAa+C,EAAiBC,GAArC,SAAAC,EAAA,+EACTC,MAAMC,0DAA0C,CACrDC,OAAQ,OACRC,QAAS,IAAIC,QAAQ,CACrB,cAAiB,UAAW,EAAK1D,MAAM4D,MACvC,eAAgB,qBAEhBkB,KAAMC,KAAKC,UAAU5E,KAClByD,MAAK,SAAAG,GAAI,OAAIA,EAAKD,UACpBF,MAAK,SAAAG,GAAI,OAAIb,EAAgBa,MAC7BC,OAAM,SAACC,GAAD,OAAWd,EAAgBc,OAVpB,2CAxHC,4DAqInBS,kBArImB,uCAqIC,WAAOvE,EAAa+C,EAAiBC,GAArC,SAAAC,EAAA,+EACXC,MAAMC,0DAA0C,CACrDC,OAAQ,SACRC,QAAS,IAAIC,QAAQ,CACrB,cAAiB,UAAW,EAAK1D,MAAM4D,MACvC,eAAgB,qBAEhBkB,KAAMC,KAAKC,UAAU5E,KAClByD,MAAK,SAAAC,GAAQ,OAAIX,EAAgBW,MACnCG,OAAM,SAACC,GAAD,OAAWd,EAAgBc,OATlB,2CArID,0DAEjB,EAAKK,YAAc5C,IAAMsD,YAFR,E,0CAanB,WACE,OACA,gCACE,qBAAKhE,UAAU,mBAAf,SACE,qBAAKA,UAAU,qBAAf,SACE,cAAC,IAAD,CACIiE,IAAKnE,KAAKwD,YACVY,QAAS,CAACC,IAAeC,KACzBC,OAAS,IACTC,YAAY,eACZC,YAAY,EACZC,cAAc,EACdC,cAAc,EACdC,UAAU,EACVC,SAAY,EACZ5C,OAAUjC,KAAKkC,YACf4C,aAAcC,EACdC,OAAQhF,KAAKqB,iBACb4D,WAAYjF,KAAK8B,iBACjBoD,UAAWlF,KAAKgC,mBAIxB,cAAC,EAAD,CACErB,eAAkBX,KAAKe,MAAMK,WAC7BnB,QAASD,KAAKe,MAAMI,iBACpB9B,YAAaW,KAAKe,MAAMG,gBACxBhC,MAAOc,KAAKoD,YACZzD,kBAAmBK,KAAKqD,aACxBjE,kBAAmBY,KAAKb,aACxBK,gBAAiBQ,KAAKT,oB,GA5CQqB,IAAMC,YAmJ5C,SAASkE,EAAmBI,GACxB,OACE,mCACE,4BAAIA,EAAUzF,MAAMW,U,UC7Ib+E,E,4JAZZ,WACG,OACG,qBAAKlF,UAAU,eAAf,SACG,sBAAKA,UAAU,cAAf,UACA,4CACA,cAAC,EAAD,CAAU2C,MAAS7C,KAAKf,MAAM4D,iB,GANvBjC,IAAMC,WCOVwE,E,4JATZ,WACG,OACG,qBAAKnF,UAAU,QAAf,SACG,oD,GAJQU,IAAMC,W,uBCGXyE,E,8EAAf,WAAyBC,GAAzB,SAAAjD,EAAA,+EACQC,MAAMC,yDAAyC,CACpDC,OAAQ,OACRC,QAAS,IAAIC,QAAQ,CACpB,eAAgB,qBAEjBoB,KAAMC,KAAKC,UAAUsB,KAEpBzC,MAAK,SAAAG,GAAI,OAAIA,EAAKD,WARtB,4C,sBAWe,SAASwC,EAAT,GAA8B,IAAbC,EAAY,EAAZA,SAC9B,EAA0BC,qBAA1B,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,qBAAhC,mBAAOG,EAAP,KAAiBC,EAAjB,KAEMC,EAAY,uCAAG,WAAMC,GAAN,eAAA1D,EAAA,6DACnB0D,EAAEC,iBADiB,SAECX,EAAU,CAAC,KAAQ,CACnCK,QACAE,cAJe,OAEbhD,EAFa,OAOnB4C,EAAS5C,GAPU,2CAAH,sDAUlB,OACE,sBAAK3C,UAAU,gBAAf,UACE,+CACA,uBAAMgG,SAAUH,EAAhB,UACE,kCACE,sCACA,uBAAO3F,KAAK,OAAOE,SAAU,SAAA0F,GAAC,OAAIJ,EAASI,EAAEpG,OAAOC,aAEtD,kCACE,yCACA,uBAAOO,KAAK,WAAWE,SAAU,SAAA0F,GAAC,OAAIF,EAAYE,EAAEpG,OAAOC,aAE7D,8BACE,wBAAQO,KAAK,SAAb,4B,eCrCK+F,E,8EAAf,WAA0BZ,GAA1B,SAAAjD,EAAA,+EACQC,MAAMC,0DAA4C,CACvDC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBqB,KAAMC,KAAKC,UAAUsB,KAEpBzC,MAAK,SAAAG,GAAI,OAAIA,EAAKD,WARtB,4C,sBAWe,SAASoD,EAAT,GAA+B,IAAbX,EAAY,EAAZA,SAC/B,EAAwBC,qBAAxB,mBAAOW,EAAP,KAAaC,EAAb,KACA,EAA0BZ,qBAA1B,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,qBAAhC,mBAAOG,EAAP,KAAiBC,EAAjB,KAEMC,EAAY,uCAAG,WAAMC,GAAN,eAAA1D,EAAA,6DACnB0D,EAAEC,iBADiB,SAECE,EAAW,CAAE,KAAQ,CACrCE,OACAV,QACAE,cALe,OAEbhD,EAFa,OAQnB4C,EAAS5C,GACR,IATkB,2CAAH,sDAYlB,OACE,sBAAK3C,UAAU,iBAAf,UACE,gDACA,uBAAMgG,SAAUH,EAAhB,UACE,kCACE,sCACA,uBAAO3F,KAAK,OAAOE,SAAU,SAAA0F,GAAC,OAAIJ,EAASI,EAAEpG,OAAOC,aAEtD,kCACE,qCACA,uBAAOO,KAAK,OAAOE,SAAU,SAAA0F,GAAC,OAAIM,EAAQN,EAAEpG,OAAOC,aAErD,kCACE,yCACA,uBAAOO,KAAK,WAAWE,SAAU,SAAA0F,GAAC,OAAIF,EAAYE,EAAEpG,OAAOC,aAE7D,8BACE,wBAAQO,KAAK,SAAb,4B,MC5CK,SAASmG,IAErB,OACG,sBAAKrG,UAAU,iBAAf,UACG,qBAAKA,UAAU,wBACf,cAAC,IAAD,CAAMsG,GAAG,aAAT,SACG,qBAAKtG,UAAU,cAAf,oBAIH,cAAC,IAAD,CAAMsG,GAAG,eAAT,SACA,qBAAKtG,UAAU,cAAf,2BAIA,qBAAKA,UAAU,0B,MC2BTuG,MAtCf,WACE,MCVa,WACb,IAMA,EAA0Bf,mBANT,WACf,IAAMgB,EAAcC,eAAeC,QAAQ,SACrCC,EAAY7C,KAAK8C,MAAMJ,GAC7B,cAAOG,QAAP,IAAOA,OAAP,EAAOA,EAAWhE,MAGekE,IAAnC,mBAAOlE,EAAP,KAAc4C,EAAd,KAOA,MAAO,CACLA,SANgB,SAAAoB,GAChBF,eAAeK,QAAQ,QAAShD,KAAKC,UAAU4C,IAC/CpB,EAASoB,EAAUhE,QAKnBA,SDN0BoE,GAApBpE,EAAR,EAAQA,MAAO4C,EAAf,EAAeA,SAEf,OAAI5C,EAgBF,qBAAK3C,UAAU,eAAf,SACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgH,KAAK,aAAZ,SACE,cAAC,EAAD,CAAMrE,MAAOA,MAEf,cAAC,IAAD,CAAOqE,KAAK,eAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAAC,EAAD,CAAMrE,MAAOA,cAzBrB,sBAAK3C,UAAU,qBAAf,UACE,8CACA,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgH,KAAK,UAAZ,SAAsB,cAACd,EAAD,CAAQX,SAAUA,MACxC,cAAC,IAAD,CAAOyB,KAAK,SAAZ,SAAqB,cAAC1B,EAAD,CAAOC,SAAUA,MACtC,cAAC,IAAD,CAAOyB,KAAK,IAAZ,SAAgB,cAAC1B,EAAD,CAAOC,SAAUA,eEhB3C0B,IAASC,OAAO,qBAAKlH,UAAU,gBAAf,SAA+B,cAAC,EAAD,MAAemH,SAASC,eAAe,W","file":"static/js/main.337ae8b0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport \"./reservation.css\";\r\n\r\nexport default class Reservation extends React.Component {\r\n  hideReservation = () => {\r\n    this.props.close();\r\n  };\r\n\r\n  handleDelete = () => {\r\n    this.props.removeReservation(this.props.reservation.id);\r\n  }\r\n\r\n  handleSave = () => {\r\n    this.props.saveReservation();\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.props.updateReservation({[event.target.id]: event.target.value});\r\n  }\r\n\r\n  handleChangeDate = (event) => {\r\n    this.props.updateReservation({[event.target.id]: new Date(event.target.value)});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>{\r\n        this.props.visible ?\r\n        <div className='overlayBackground'>\r\n          <div className=\"reservation-wrapper\">\r\n            <div className=\"reservation-header\"><button onClick={this.hideReservation} className=\"close-icon\"></button></div>\r\n            <div className=\"reservation-container\">\r\n              <h2>Reservation!</h2>\r\n              <form>\r\n              <label>\r\n                <p>Title</p>\r\n                <input type=\"text\" id=\"title\" value={this.props.reservation.title} onChange={this.handleChange}/>\r\n              </label>\r\n              <label>\r\n              <p>Start</p>\r\n              <input type=\"date\" id=\"start\" value={this.props.reservation.start.toISOString().slice(0, 10)} onChange={this.handleChangeDate}></input>\r\n              </label>\r\n              <label>\r\n              <p>End</p>\r\n              <input type=\"date\" id=\"end\" value={this.props.reservation.end.toISOString().slice(0, 10)} onChange={this.handleChangeDate}></input>\r\n              </label>\r\n              <div className = \"reservationButtons\">\r\n                {this.props.newReservation? null :\r\n                <button onClick={this.handleDelete}>Delete</button>\r\n                }\r\n                <button onClick={this.handleSave}>Save</button>\r\n              </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        : null\r\n        }\r\n      </>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\n\r\nimport Reservation from '../reservation/reservation';\r\n\r\nimport './calendar.css';\r\n\r\nexport default class Calendar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.calendarRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    weekendsVisible: true,\r\n    currentEvents: [],\r\n    editReservation: '',\r\n    editorVisibility: false,\r\n    editingNew: false,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n    <div>\r\n      <div className=\"calendar-wrapper\">\r\n        <div className=\"calendar-container\">\r\n          <FullCalendar\r\n              ref={this.calendarRef}\r\n              plugins={[dayGridPlugin, interactionPlugin]}\r\n              height= {600}\r\n              initialView=\"dayGridMonth\"\r\n              selectable={true}\r\n              selectMirror={true}\r\n              dayMaxEvents={true}\r\n              weekends={true}\r\n              firstDay = {1}\r\n              events = {this.fetchEvents}\r\n              eventContent={renderEventContent}\r\n              select={this.handleDateSelect}\r\n              eventClick={this.handleEventClick}\r\n              eventsSet={this.handleEvents}\r\n          />\r\n          </div>\r\n      </div>\r\n      <Reservation \r\n        newReservation = {this.state.editingNew} \r\n        visible={this.state.editorVisibility} \r\n        reservation={this.state.editReservation}\r\n        close={this.closeEditor}\r\n        updateReservation={this.updateEditor}\r\n        removeReservation={this.handleDelete}\r\n        saveReservation={this.handleSave}/>\r\n    </div>\r\n    );\r\n  }\r\n\r\n  handleDateSelect = (selectInfo) => {\r\n    this.setState({\r\n      editingNew: true,\r\n      editorVisibility: true,\r\n      editReservation: {\r\n        title: 'test',\r\n        start: new Date(selectInfo.startStr),\r\n        end: new Date(selectInfo.endStr),\r\n        allDay: true,\r\n      },\r\n    });\r\n    selectInfo.view.calendar.unselect();\r\n  };\r\n\r\n  handleEventClick = (clickInfo) => {\r\n    this.setState({\r\n      editingNew: false,\r\n      editorVisibility: true,\r\n      editReservation: clickInfo.event,\r\n    });\r\n  };\r\n\r\n  handleEvents = (events) => {\r\n    this.setState({\r\n      currentEvents: events,\r\n    });\r\n  };\r\n\r\n  fetchEvents = async (info, successCallback, failureCallback) => {\r\n    return fetch(process.env.REACT_APP_API+'/reservation/range?start='+info.start+'&end='+info.end, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n      Authorization: 'Bearer '+this.props.token})\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => successCallback(data))\r\n    .catch((error) => failureCallback(error))\r\n  }\r\n\r\n  closeEditor = () => {\r\n    this.setState({\r\n      editingNew: false,\r\n      editorVisibility: false,\r\n      editReservation: '',\r\n    });\r\n  }\r\n\r\n  updateEditor = (update) => {\r\n    this.setState({\r\n      editReservation: {\r\n        ...this.state.editReservation,\r\n        ...update\r\n      } \r\n    });\r\n  }\r\n\r\n  handleSave = () => {\r\n    this.postReservation({'reservation': this.state.editReservation},(response) => {\r\n      const calendarAPI = this.calendarRef.current.getApi().view.calendar\r\n      calendarAPI.addEvent( response.reservation);\r\n      this.closeEditor();\r\n    },()=>{})\r\n  }\r\n\r\n  handleDelete = (id) => {\r\n    this.deleteReservation({'reservation': {id: id}},(response) => {\r\n      const calendarAPI = this.calendarRef.current.getApi().view.calendar\r\n      calendarAPI.getEventById(id).remove();\r\n      this.closeEditor();\r\n    },()=>{})\r\n  }\r\n\r\n  postReservation = async (reservation, successCallback, failureCallback) => {\r\n    return fetch(process.env.REACT_APP_API+'/reservation', {\r\n      method: 'POST',\r\n      headers: new Headers({\r\n      'Authorization': 'Bearer '+ this.props.token,\r\n      'Content-Type': 'application/json',\r\n      }),\r\n      body: JSON.stringify(reservation)\r\n      }).then(data => data.json())\r\n      .then(data => successCallback(data))\r\n      .catch((error) => failureCallback(error))\r\n    }\r\n  \r\n  deleteReservation = async (reservation, successCallback, failureCallback) => {\r\n    return fetch(process.env.REACT_APP_API+'/reservation', {\r\n      method: 'DELETE',\r\n      headers: new Headers({\r\n      'Authorization': 'Bearer '+ this.props.token,\r\n      'Content-Type': 'application/json',\r\n      }),\r\n      body: JSON.stringify(reservation)\r\n      }).then(response => successCallback(response))\r\n      .catch((error) => failureCallback(error))\r\n    }\r\n}\r\n\r\nfunction renderEventContent(eventInfo) {\r\n    return (\r\n      <>\r\n        <i>{eventInfo.event.title}</i>\r\n      </>\r\n    )\r\n  }","import React from 'react';\r\nimport Calendar from '../calendar/calendar'\r\n\r\nimport './dash.css'\r\n\r\nclass Dash extends React.Component {\r\n   render() {\r\n      return (\r\n         <div className=\"dash-wrapper\">\r\n            <div className=\"dash-column\">\r\n            <h1>Dashboard!</h1>\r\n            <Calendar token = {this.props.token}/>\r\n            </div>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Dash;","import React from 'react';\r\n\r\nclass Prefs extends React.Component {\r\n   render() {\r\n      return (\r\n         <div className=\"prefs\">\r\n            <h1>Preferences!</h1>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Prefs;","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './login.css';\r\n\r\nasync function loginUser(credentials) {\r\n return fetch(process.env.REACT_APP_API+'/user/login', {\r\n   method: 'POST',\r\n   headers: new Headers({\r\n    'Content-Type': 'application/json',\r\n    }),\r\n   body: JSON.stringify(credentials)\r\n })\r\n   .then(data => data.json())\r\n}\r\n\r\nexport default function Login({ setToken }) {\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const token = await loginUser({'user': {\r\n        email,\r\n        password\r\n      }\r\n    });\r\n    setToken(token);\r\n  }\r\n\r\n  return(\r\n    <div className=\"login-wrapper\">\r\n      <h1>Please Log In</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <p>Email</p>\r\n          <input type=\"text\" onChange={e => setEmail(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Password</p>\r\n          <input type=\"password\" onChange={e => setPassword(e.target.value)}/>\r\n        </label>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nLogin.propTypes = {\r\n  setToken: PropTypes.func.isRequired\r\n};","import React, { useState } from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './signup.css';\r\n\r\nasync function signupUser(credentials) {\r\n return fetch(process.env.REACT_APP_API + '/user/signup', {\r\n   method: 'POST',\r\n   headers: {\r\n     'Content-Type': 'application/json'\r\n   },\r\n   body: JSON.stringify(credentials)\r\n })\r\n   .then(data => data.json())\r\n}\r\n\r\nexport default function Signup({ setToken }) {\r\n  const [name, setName] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const token = await signupUser({ 'user': {\r\n        name,\r\n        email,\r\n        password\r\n        }\r\n    });\r\n    setToken(token);\r\n    <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return(\r\n    <div className=\"signup-wrapper\">\r\n      <h1>Create account</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <p>Email</p>\r\n          <input type=\"text\" onChange={e => setEmail(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Name</p>\r\n          <input type=\"text\" onChange={e => setName(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n          <p>Password</p>\r\n          <input type=\"password\" onChange={e => setPassword(e.target.value)}/>\r\n        </label>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nSignup.propTypes = {\r\n  setToken: PropTypes.func.isRequired\r\n};","import React from 'react';\r\nimport {\r\n   Link,\r\n } from \"react-router-dom\";\r\n\r\nimport './header.css';\r\n\r\nexport default function LogHeader() {\r\n\r\n   return (\r\n      <div className=\"header-wrapper\">\r\n         <div className=\"header-filler-front\"></div>\r\n         <Link to=\"/dashboard\">\r\n            <div className=\"header-item\">\r\n               Home\r\n            </div>\r\n         </Link>\r\n         <Link to=\"/preferences\">\r\n         <div className=\"header-item\">\r\n               Preferences\r\n         </div>\r\n         </Link>\r\n         <div className=\"header-filler-back\"></div>\r\n      </div>\r\n   );\r\n}","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport Dash from '../dash/dash';\r\nimport Prefs from '../prefs/prefs';\r\nimport Login from '../login/login';\r\nimport Signup from '../signup/signup';\r\nimport Header from '../header/header';\r\nimport useToken from './useToken';\r\n\r\nimport './app.css';\r\n\r\nfunction App() {\r\n  const { token, setToken } = useToken();\r\n\r\n  if(!token) {\r\n    return (\r\n    <div className=\"main-login-wrapper\">\r\n      <h1>Login system</h1>\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/signup\"><Signup setToken={setToken} /></Route>\r\n          <Route path=\"/login\"><Login setToken={setToken} /></Route>\r\n          <Route path=\"/\"><Login setToken={setToken} /></Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"main-wrapper\">\r\n      <BrowserRouter>\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/dashboard\">\r\n            <Dash token={token} />\r\n          </Route>\r\n          <Route path=\"/preferences\">\r\n            <Prefs />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Dash token={token}/>\r\n          </Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import { useState } from 'react';\r\n\r\nexport default function useToken() {\r\n  const getToken = () => {\r\n    const tokenString = sessionStorage.getItem('token');\r\n    const userToken = JSON.parse(tokenString);\r\n    return userToken?.token\r\n  };\r\n\r\n  const [token, setToken] = useState(getToken());\r\n\r\n  const saveToken = userToken => {\r\n    sessionStorage.setItem('token', JSON.stringify(userToken));\r\n    setToken(userToken.token);\r\n  };\r\n\r\n  return {\r\n    setToken: saveToken,\r\n    token\r\n  }\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport './cssThemes.css';\r\nimport \"./index.css\";\r\nimport App from './components/app/app';\r\n\r\nReactDOM.render(<div className=\"default-theme\"><App /></div>, document.getElementById('root'))"],"sourceRoot":""}