(this.webpackJsonphuisapp=this.webpackJsonphuisapp||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(17),i=n.n(s),c=(n(34),n(35),n(15)),o=n(3),u=n(11),l=n(12),d=n(14),j=n(13),h=n(22),p=n(5),b=n.n(p),v=n(9),O=n(27),f=n(28),x=n(29),m=n(19),g=(n(39),n(1)),w=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).hideReservation=function(){e.props.close()},e.handleDelete=function(){e.props.removeReservation(e.props.reservation.id)},e.handleSave=function(){e.props.saveReservation()},e.handleChange=function(t){e.props.updateReservation(Object(m.a)({},t.target.id,t.target.value))},e.handleChangeDate=function(t){e.props.updateReservation(Object(m.a)({},t.target.id,new Date(t.target.value)))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:this.props.visible?Object(g.jsx)("div",{className:"overlayBackground",children:Object(g.jsxs)("div",{className:"reservation-wrapper",children:[Object(g.jsx)("div",{className:"reservation-header",children:Object(g.jsx)("button",{onClick:this.hideReservation,className:"close-icon"})}),Object(g.jsxs)("div",{className:"reservation-container",children:[Object(g.jsx)("h2",{children:"Reservation!"}),Object(g.jsxs)("form",{children:[Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Title"}),Object(g.jsx)("input",{type:"text",id:"title",value:this.props.reservation.title,onChange:this.handleChange})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Start"}),Object(g.jsx)("input",{type:"date",id:"start",value:this.props.reservation.start.toISOString().slice(0,10),onChange:this.handleChangeDate})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"End"}),Object(g.jsx)("input",{type:"date",id:"end",value:this.props.reservation.end.toISOString().slice(0,10),onChange:this.handleChangeDate})]}),Object(g.jsxs)("div",{className:"reservationButtons",children:[this.props.newReservation?null:Object(g.jsx)("button",{onClick:this.handleDelete,children:"Delete"}),Object(g.jsx)("button",{onClick:this.handleSave,children:"Save"})]})]})]})]})}):null})}}]),n}(a.a.Component),y=(n(41),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={weekendsVisible:!0,currentEvents:[],editReservation:"",editorVisibility:!1,editingNew:!1},r.handleDateSelect=function(e){r.setState({editingNew:!0,editorVisibility:!0,editReservation:{title:"test",start:new Date(e.startStr),end:new Date(e.endStr),allDay:!0}}),e.view.calendar.unselect()},r.handleEventClick=function(e){r.setState({editingNew:!1,editorVisibility:!0,editReservation:e.event})},r.handleEvents=function(e){r.setState({currentEvents:e})},r.fetchEvents=function(){var e=Object(v.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://huisapp-vd4sokpoaa-ew.a.run.app/api/reservation/range?start="+t.start+"&end="+t.end,{method:"GET",headers:new Headers({Authorization:"Bearer "+r.props.token})}).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return a(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.closeEditor=function(){r.setState({editingNew:!1,editorVisibility:!1,editReservation:""})},r.updateEditor=function(e){r.setState({editReservation:Object(h.a)(Object(h.a)({},r.state.editReservation),e)})},r.handleSave=function(){r.postReservation({reservation:r.state.editReservation},(function(e){r.calendarRef.current.getApi().view.calendar.addEvent(e.reservation),r.closeEditor()}),(function(){}))},r.handleDelete=function(e){r.deleteReservation({reservation:{id:e}},(function(t){r.calendarRef.current.getApi().view.calendar.getEventById(e).remove(),r.closeEditor()}),(function(){}))},r.postReservation=function(){var e=Object(v.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://huisapp-vd4sokpoaa-ew.a.run.app/api/reservation",{method:"POST",headers:new Headers({Authorization:"Bearer "+r.props.token,"Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return a(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.deleteReservation=function(){var e=Object(v.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://huisapp-vd4sokpoaa-ew.a.run.app/api/reservation",{method:"DELETE",headers:new Headers({Authorization:"Bearer "+r.props.token,"Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){return n(e)})).catch((function(e){return a(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.calendarRef=a.a.createRef(),r}return Object(l.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"calendar-wrapper",children:Object(g.jsx)("div",{className:"calendar-container",children:Object(g.jsx)(O.a,{ref:this.calendarRef,plugins:[f.a,x.a],height:600,initialView:"dayGridMonth",selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,firstDay:1,events:this.fetchEvents,eventContent:k,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents})})}),Object(g.jsx)(w,{newReservation:this.state.editingNew,visible:this.state.editorVisibility,reservation:this.state.editReservation,close:this.closeEditor,updateReservation:this.updateEditor,removeReservation:this.handleDelete,saveReservation:this.handleSave})]})}}]),n}(a.a.Component));function k(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("i",{children:e.event.title})})}n(42);var S=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"dash-wrapper",children:Object(g.jsxs)("div",{className:"dash-column",children:[Object(g.jsx)("h1",{children:"Dashboard!"}),Object(g.jsx)(y,{token:this.props.token})]})})}}]),n}(a.a.Component),N=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"prefs",children:Object(g.jsx)("h1",{children:"Preferences!"})})}}]),n}(a.a.Component),C=n(10);n(43);function R(e){return E.apply(this,arguments)}function E(){return(E=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://huisapp-vd4sokpoaa-ew.a.run.app/api/user/login",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){var t=e.setToken,n=Object(r.useState)(),a=Object(C.a)(n,2),s=a[0],i=a[1],c=Object(r.useState)(),o=Object(C.a)(c,2),u=o[0],l=o[1],d=function(){var e=Object(v.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,R({user:{email:s,password:u}});case 3:r=e.sent,t(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"login-wrapper",children:[Object(g.jsx)("h1",{children:"Please Log In"}),Object(g.jsxs)("form",{onSubmit:d,children:[Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Email"}),Object(g.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)}})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Password"}),Object(g.jsx)("input",{type:"password",onChange:function(e){return l(e.target.value)}})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"submit",children:"Submit"})})]})]})}n(44);function T(e){return J.apply(this,arguments)}function J(){return(J=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://huisapp-vd4sokpoaa-ew.a.run.app/api/user/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=e.setToken,n=Object(r.useState)(),a=Object(C.a)(n,2),s=a[0],i=a[1],c=Object(r.useState)(),u=Object(C.a)(c,2),l=u[0],d=u[1],j=Object(r.useState)(),h=Object(C.a)(j,2),p=h[0],O=h[1],f=function(){var e=Object(v.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,T({user:{name:s,email:l,password:p}});case 3:r=e.sent,t(r),o.a;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"signup-wrapper",children:[Object(g.jsx)("h1",{children:"Create account"}),Object(g.jsxs)("form",{onSubmit:f,children:[Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Email"}),Object(g.jsx)("input",{type:"text",onChange:function(e){return d(e.target.value)}})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Name"}),Object(g.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)}})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("p",{children:"Password"}),Object(g.jsx)("input",{type:"password",onChange:function(e){return O(e.target.value)}})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"submit",children:"Submit"})})]})]})}n(50);function B(){return Object(g.jsxs)("div",{className:"header-wrapper",children:[Object(g.jsx)("div",{className:"header-filler-front"}),Object(g.jsx)(c.b,{to:"/dashboard",children:Object(g.jsx)("div",{className:"header-item",children:"Home"})}),Object(g.jsx)(c.b,{to:"/preferences",children:Object(g.jsx)("div",{className:"header-item",children:"Preferences"})}),Object(g.jsx)("div",{className:"header-filler-back"})]})}n(51);var I=function(){var e=function(){var e=Object(r.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(C.a)(e,2),n=t[0],a=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),a(e.token)},token:n}}(),t=e.token,n=e.setToken;return t?Object(g.jsx)("div",{className:"main-wrapper",children:Object(g.jsxs)(c.a,{children:[Object(g.jsx)(B,{}),Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{path:"/dashboard",children:Object(g.jsx)(S,{token:t})}),Object(g.jsx)(o.b,{path:"/preferences",children:Object(g.jsx)(N,{})}),Object(g.jsx)(o.b,{path:"/",children:Object(g.jsx)(S,{token:t})})]})]})}):Object(g.jsxs)("div",{className:"main-login-wrapper",children:[Object(g.jsx)("h1",{children:"Login system"}),Object(g.jsx)(c.a,{children:Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{path:"/signup",children:Object(g.jsx)(P,{setToken:n})}),Object(g.jsx)(o.b,{path:"/login",children:Object(g.jsx)(D,{setToken:n})}),Object(g.jsx)(o.b,{path:"/",children:Object(g.jsx)(D,{setToken:n})})]})})]})};i.a.render(Object(g.jsx)("div",{className:"default-theme",children:Object(g.jsx)(I,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.337ae8b0.chunk.js.map